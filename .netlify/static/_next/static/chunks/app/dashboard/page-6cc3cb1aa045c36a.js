(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{7791:function(e,t,s){Promise.resolve().then(s.bind(s,3370))},3370:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Q}});var a=s(7437),r=s(2265),l=s(3287),i=s(3247),n=s(4766),c=s(7692),o=s(5805),d=s(8335),m=s(525),x=s(9397),u=s(875),h=s(8728),p=s(8930),g=s(2531),b=s(8674),v=s(9236);function y(){let{selectedTeam:e,setSelectedTeam:t}=(0,g.A)(),{teams:s,loading:l}=(0,b.y2)(),[i,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1),d=e=>{t(e),n(!1)},m=async s=>{if(window.confirm('Are you sure you want to delete the project "'.concat(s.productName,'"? This cannot be undone.')))try{await fetch("".concat("http://localhost:5000","/api/teams/").concat(s._id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("tether_token"))}}),(null==e?void 0:e._id)===s._id&&t(null),window.location.reload()}catch(e){alert("Failed to delete project.")}},y=e=>{switch(e){case"SUPER_RESPONDERS":return"bg-success-100 text-success-800";case"CLEAR_COMMUNICATORS":return"bg-primary-100 text-primary-800";case"SLOW_STEADY":return"bg-warning-100 text-warning-800";case"GHOST_MODE":return"bg-error-100 text-error-800";default:return"bg-gray-100 text-gray-800"}};return l?(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 rounded-lg",children:[(0,a.jsx)("div",{className:"animate-pulse h-4 w-4 bg-gray-300 rounded"}),(0,a.jsx)("div",{className:"animate-pulse h-4 w-20 bg-gray-300 rounded"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>n(!i),className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e?e.name:"Select Team"})]}),(0,a.jsx)(u.Z,{className:"h-4 w-4 text-gray-400"})]}),i&&(0,a.jsxs)("div",{className:"absolute top-full left-0 mt-1 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Your Teams"}),(0,a.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center text-sm text-primary-600 hover:text-primary-700",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-1"}),"New Team"]})]})}),(0,a.jsx)("div",{className:"max-h-64 overflow-y-auto",children:s&&s.length>0?s.map(t=>(0,a.jsx)("div",{className:"group",children:(0,a.jsx)("button",{onClick:()=>d(t),className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors duration-200 ".concat((null==e?void 0:e._id)===t._id?"bg-primary-50 border-r-2 border-primary-600":""),children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:t.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:t.productName}),t.reputationBadge&&(0,a.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-1 ".concat(y(t.reputationBadge.type)),children:t.reputationBadge.type.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:[t.memberCount," members"]}),(0,a.jsx)(h.Z,{className:"h-3 w-3 text-gray-400"}),"OWNER"===t.userRole&&(0,a.jsxs)("button",{onClick:e=>{e.stopPropagation(),m(t)},title:"Delete Project",className:"mt-1 text-error-600 hover:text-error-800 flex items-center text-xs",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-1"})," Delete"]})]})]})})},t._id)):(0,a.jsxs)("div",{className:"px-4 py-8 text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-2",children:"No teams yet"}),(0,a.jsx)("button",{onClick:()=>o(!0),className:"btn-primary text-sm",children:"Create your first team"})]})}),s&&s.length>0&&(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("button",{onClick:()=>o(!0),className:"w-full btn-secondary text-sm",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Create New Team"]})})]})]}),i&&(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),(0,a.jsx)(v.Z,{isOpen:c,onClose:()=>o(!1)})]})}var f=s(7684),j=s(1723),N=s(1047),w=s(4630),C=s(4081);let k=["/avatars/avatar1.png","/avatars/avatar2.png","/avatars/avatar3.png","/avatars/avatar4.png","/avatars/avatar5.png","/avatars/avatar6.png","/avatars/avatar7.png","/avatars/avatar8.png","/avatars/avatar9.png","/avatars/avatar10.png"];function S(e){var t,s;let{link:r,onEdit:l,onDelete:i,onViewDetails:n}=e;return(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-medium transition-shadow duration-200",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:r.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:r.purpose})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"PENDING":return"bg-warning-100 text-warning-800";case"COMPLETED":return"bg-success-100 text-success-800";default:return"bg-gray-100 text-gray-800"}})(r.status)),children:r.status}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(f.Z,{className:"h-4 w-4 text-gray-400"})})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"QUICK_SYNC":return"bg-blue-100 text-blue-800";case"REVIEW":return"bg-purple-100 text-purple-800";case"PLANNING":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(r.meetingType)),children:r.meetingType}),r.priority&&(0,a.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",children:r.priority})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:(0,C.Z)(new Date(r.createdAt),{addSuffix:!0})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[(null===(t=r.participants)||void 0===t?void 0:t.length)||0," participants"]})]}),r.scheduledAt&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:(0,C.Z)(new Date(r.scheduledAt),{addSuffix:!0})})]})]}),r.participants&&r.participants.length>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)("div",{className:"flex -space-x-2",children:r.participants.slice(0,3).map((e,t)=>{let s=e.userId,r=s.avatar||function(e){let t=(null==e?void 0:e._id)||(null==e?void 0:e.email)||(null==e?void 0:e.name)||"",s=0;for(let e=0;e<t.length;e++)s=t.charCodeAt(e)+((s<<5)-s);let a=Math.abs(s)%k.length;return k[a]}(s);return s.avatar||r?(0,a.jsx)("img",{src:r,alt:s.name,className:"h-8 w-8 rounded-full object-cover border-2 border-white -ml-2",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.style.display="none"}},s._id||t):(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600 border-2 border-white -ml-2",children:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.split(" ").map(e=>e[0]).join("").toUpperCase():"?"}(s.name)},s._id||t)})}),r.participants.length>3&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["+",r.participants.length-3," more"]})]}),(null===(s=r.aiSummary)||void 0===s?void 0:s.content)&&(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:r.aiSummary.content})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-2 pt-2 border-t border-gray-100 mt-2",children:[l&&(0,a.jsxs)("button",{onClick:()=>l(r),className:"flex items-center px-3 py-1 text-sm text-primary-600 hover:text-primary-800 rounded transition-colors",title:"Edit",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-1"})," Edit"]}),i&&(0,a.jsxs)("button",{onClick:()=>i(r),className:"flex items-center px-3 py-1 text-sm text-error-600 hover:text-error-800 rounded transition-colors",title:"Delete",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-1"})," Delete"]}),n&&(0,a.jsx)("button",{onClick:()=>n(r),className:"flex items-center px-3 py-1 text-sm text-gray-600 hover:text-gray-800 rounded transition-colors",title:"View Details",children:"Details"})]})]})}var E=s(3085);function A(e){let{title:t,value:s,icon:r,color:l,trend:i,trendDirection:n="neutral"}=e,c=(e=>{switch(e){case"primary":return{bg:"bg-primary-50",icon:"text-primary-600",value:"text-primary-900"};case"success":return{bg:"bg-success-50",icon:"text-success-600",value:"text-success-900"};case"warning":return{bg:"bg-warning-50",icon:"text-warning-600",value:"text-warning-900"};case"error":return{bg:"bg-error-50",icon:"text-error-600",value:"text-error-900"};case"info":return{bg:"bg-blue-50",icon:"text-blue-600",value:"text-blue-900"};default:return{bg:"bg-gray-50",icon:"text-gray-600",value:"text-gray-900"}}})(l);return(0,a.jsx)("div",{className:"".concat(c.bg," rounded-xl p-6 border border-gray-200"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:t}),(0,a.jsx)("p",{className:"text-2xl font-bold ".concat(c.value),children:s}),i&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2 text-sm ".concat((e=>{switch(e){case"up":return"text-success-600";case"down":return"text-error-600";default:return"text-gray-600"}})(n)),children:[(e=>{switch(e){case"up":return(0,a.jsx)(m.Z,{className:"h-4 w-4 text-success-600"});case"down":return(0,a.jsx)(E.Z,{className:"h-4 w-4 text-error-600"});default:return null}})(n),(0,a.jsx)("span",{children:i})]})]}),(0,a.jsx)("div",{className:"p-3 rounded-lg bg-white ".concat(c.icon),children:(0,a.jsx)(r,{className:"h-6 w-6"})})]})})}var L=s(2489),D=s(2878),T=s(6484),I=s(9116),O=s(6660);function _(e){var t;let{isOpen:s,onClose:l,onSuccess:i}=e,{selectedTeam:n}=(0,g.A)(),{data:c=[],refetch:o}=(t=null==n?void 0:n._id,(0,T.useQuery)(["teamMembers",t],async()=>{var e,s;return t&&(null===(s=(await I.x.getTeam(t)).data)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.members)||[]},{enabled:!!t})),[d,m]=(0,r.useState)({title:"",purpose:"",meetingType:D.LA.QUICK_SYNC,priority:"MEDIUM",scheduledAt:"",duration:30,participants:[]}),[x,u]=(0,r.useState)([]);(0,r.useEffect)(()=>{s&&o()},[s,o]);let h=c.map(e=>{let t=e.userId,s="";return s=t.name&&t.email?"".concat(t.name," (").concat(t.email,")"):t.name?t.name:t.email?t.email:t._id||t,{value:t._id||t,label:s}}),p=h.filter(e=>x.includes(e.value)),b=async e=>{if(e.preventDefault(),n){if(0===x.length){alert("Please select at least one participant.");return}try{let{duration:e,...t}=d,s=(await I.x.createLink({...t,participants:x,teamId:n._id})).data.data;m({title:"",purpose:"",meetingType:D.LA.QUICK_SYNC,priority:"MEDIUM",scheduledAt:"",duration:30,participants:[]}),u([]),l(),i&&i(s)}catch(e){console.error("Error creating link:",e)}}},v=e=>{m(t=>({...t,[e.target.name]:e.target.value}))},y=e=>{switch(e){case D.LA.QUICK_SYNC:return{color:"text-blue-600",description:"Quick 15-30 minute sync"};case D.LA.REVIEW:return{color:"text-purple-600",description:"Code or design review"};case D.LA.PLANNING:return{color:"text-green-600",description:"Sprint or project planning"};case D.LA.DECISION:return{color:"text-orange-600",description:"Important decision making"};case D.LA.BRAINSTORM:return{color:"text-pink-600",description:"Creative brainstorming session"};case D.LA.STATUS_UPDATE:return{color:"text-gray-600",description:"Regular status update"};default:return{color:"text-gray-600",description:""}}};return s?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Link"}),(0,a.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(L.Z,{className:"h-6 w-6"})})]}),!n&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-warning-50 border border-warning-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 text-warning-600"}),(0,a.jsx)("span",{className:"text-sm text-warning-800",children:"Please select a team first"})]})}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Title *"}),(0,a.jsx)("input",{type:"text",id:"title",name:"title",value:d.title,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., Sprint Planning Meeting"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"purpose",className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose *"}),(0,a.jsx)("textarea",{id:"purpose",name:"purpose",value:d.purpose,onChange:v,required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What is the purpose of this meeting?"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"meetingType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Type"}),(0,a.jsxs)("select",{id:"meetingType",name:"meetingType",value:d.meetingType,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:D.LA.QUICK_SYNC,children:"Quick Sync"}),(0,a.jsx)("option",{value:D.LA.REVIEW,children:"Review"}),(0,a.jsx)("option",{value:D.LA.PLANNING,children:"Planning"}),(0,a.jsx)("option",{value:D.LA.DECISION,children:"Decision"}),(0,a.jsx)("option",{value:D.LA.BRAINSTORM,children:"Brainstorm"}),(0,a.jsx)("option",{value:D.LA.STATUS_UPDATE,children:"Status Update"})]}),d.meetingType&&(0,a.jsx)("p",{className:"mt-1 text-xs ".concat(y(d.meetingType).color),children:y(d.meetingType).description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,a.jsxs)("select",{id:"priority",name:"priority",value:d.priority,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"LOW",children:"Low"}),(0,a.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,a.jsx)("option",{value:"HIGH",children:"High"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),(0,a.jsxs)("select",{id:"duration",name:"duration",value:d.duration,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:15,children:"15 min"}),(0,a.jsx)("option",{value:30,children:"30 min"}),(0,a.jsx)("option",{value:45,children:"45 min"}),(0,a.jsx)("option",{value:60,children:"1 hour"}),(0,a.jsx)("option",{value:90,children:"1.5 hours"}),(0,a.jsx)("option",{value:120,children:"2 hours"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"scheduledAt",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Time (Optional)"}),(0,a.jsx)("input",{type:"datetime-local",id:"scheduledAt",name:"scheduledAt",value:d.scheduledAt,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Participants"}),(0,a.jsx)(O.ZP,{isMulti:!0,options:h,value:p,onChange:e=>{u(e?e.map(e=>e.value):[])},classNamePrefix:"react-select",placeholder:"Select participants..."})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:l,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:!d.title||!d.purpose||!n,className:"flex-1 px-4 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Link"})]})]})]})})}):null}function Z(e){let{isOpen:t,onClose:s,onMemberAdded:l}=e,{teams:i=[],loading:n}=(0,b.y2)(),[c,o]=(0,r.useState)(""),[d,m]=(0,r.useState)([{firstName:"",email:"",designation:"",department:""}]),[x,u]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),y=(e,t,s)=>{m(a=>a.map((a,r)=>r===e?{...a,[t]:s}:a))},f=e=>m(d.filter((t,s)=>s!==e)),j=async e=>{if(e.preventDefault(),u(null),p(!1),!c){u("Please select a team.");return}v(!0);try{for(let e of(console.log("DEBUG: teammates array:",d),d))if(e.email&&e.department){let t={email:e.email,role:e.department};console.log("DEBUG: Adding member payload:",t),await I.x.addTeamMember(c,t)}p(!0),m([{firstName:"",email:"",designation:"",department:""}]),l&&l(),setTimeout(()=>{p(!1),s()},1e3)}catch(e){var t,a;u((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to add member(s)")}finally{v(!1)}},N=d.every(e=>e.department&&""!==e.department);return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Team Members"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(L.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"team",className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),(0,a.jsxs)("select",{id:"team",name:"team",value:c,onChange:e=>o(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select Team"}),i.map(e=>(0,a.jsx)("option",{value:e._id,children:e.name||e.productName},e._id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Teammates"}),d.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-2 mb-2 items-center",children:[(0,a.jsx)("input",{type:"text",placeholder:"First Name",className:"input-field flex-1",value:e.firstName,onChange:e=>y(t,"firstName",e.target.value)}),(0,a.jsx)("input",{type:"email",placeholder:"Email",className:"input-field flex-1",value:e.email,onChange:e=>y(t,"email",e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Designation",className:"input-field flex-1",value:e.designation,onChange:e=>y(t,"designation",e.target.value)}),(0,a.jsxs)("select",{className:"input-field flex-1",value:e.department||"",onChange:e=>y(t,"department",e.target.value),children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select Department"}),(0,a.jsx)("option",{value:"PM",children:"Product Manager"}),(0,a.jsx)("option",{value:"DEV",children:"Dev"}),(0,a.jsx)("option",{value:"DESIGN",children:"Design"}),(0,a.jsx)("option",{value:"LEGAL",children:"Legal"}),(0,a.jsx)("option",{value:"SECURITY",children:"Security"}),(0,a.jsx)("option",{value:"BIZ_OPS",children:"Biz Ops"}),(0,a.jsx)("option",{value:"STAKEHOLDER",children:"Stakeholder"})]}),d.length>1&&(0,a.jsx)("button",{type:"button",onClick:()=>f(t),className:"btn-error px-2 py-1",children:"\xd7"})]},t)),(0,a.jsx)("button",{type:"button",onClick:()=>m([...d,{firstName:"",email:"",designation:"",department:""}]),className:"btn-secondary mt-2",children:"+ Add Teammate"})]}),x&&(0,a.jsx)("div",{className:"p-2 bg-error-50 border border-error-200 rounded text-error-700 text-sm",children:x}),h&&(0,a.jsx)("div",{className:"p-2 bg-success-50 border border-success-200 rounded text-success-700 text-sm",children:"Member(s) added successfully!"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 pt-2",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:g,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:g||!c||!N,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Adding...":"Add Member(s)"})]})]})]})})}):null}function P(){let{selectedTeam:e}=(0,g.A)(),[t,s]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!1),n=[{title:"Create Link",description:"Log a new collaboration or meeting",icon:d.Z,color:"success",onClick:()=>s(!0),disabled:!e},{title:"Add Member",description:"Invite someone to your team",icon:o.Z,color:"warning",onClick:()=>i(!0),disabled:!e},{title:"Schedule Meeting",description:"Plan a future collaboration",icon:N.Z,color:"info",onClick:()=>{},disabled:!e},{title:"View Analytics",description:"Check team performance metrics",icon:m.Z,color:"purple",onClick:()=>{},disabled:!1}],c=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-700 hover:bg-green-100";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-700 hover:bg-yellow-100";case"info":return"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100";case"purple":return"bg-purple-50 border-purple-200 text-purple-700 hover:bg-purple-100";default:return"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}};return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-soft p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((e,t)=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:e.onClick,disabled:e.disabled,className:"\n                flex flex-col items-center justify-center h-40 rounded-2xl border-2 transition-all duration-200\n                ".concat(e.disabled?"opacity-50 cursor-not-allowed bg-gray-50 text-gray-400 border-gray-200":c(e.color),"\n                hover:scale-[1.03] hover:shadow-lg\n              "),style:{minWidth:0},children:[(0,a.jsx)(s,{className:"h-9 w-9 mb-3"}),(0,a.jsx)("span",{className:"font-bold text-base mb-1",children:e.title}),(0,a.jsx)("span",{className:"text-sm text-center font-normal opacity-80",children:e.description})]},t)})}),!e&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-yellow-600 rounded-full"}),(0,a.jsx)("span",{className:"text-sm text-yellow-800",children:"Select a team to access quick actions"})]})}),(0,a.jsx)(_,{isOpen:t,onClose:()=>s(!1)}),(0,a.jsx)(Z,{isOpen:l,onClose:()=>i(!1)})]})}var R=s(2737),M=s(9376),U=s(7868),W=s(5302),G=s(2252),K=s(6362),B=s(8736),F=s(3417);function H(e){var t,s;let{link:r,isOpen:l,onClose:i}=e,n=(0,M.useRouter)();return l&&r?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:r.title}),(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case D.cK.COMPLETED:return"text-success-600 bg-success-50";case D.cK.IN_PROGRESS:return"text-primary-600 bg-primary-50";case D.cK.SCHEDULED:return"text-warning-600 bg-warning-50";case D.cK.PENDING:return"text-gray-600 bg-gray-50";case D.cK.CANCELLED:return"text-error-600 bg-error-50";default:return"text-gray-600 bg-gray-50"}})(r.status)),children:[(e=>{switch(e){case D.cK.COMPLETED:return(0,a.jsx)(W.Z,{className:"h-4 w-4"});case D.cK.IN_PROGRESS:return(0,a.jsx)(j.Z,{className:"h-4 w-4"});case D.cK.SCHEDULED:return(0,a.jsx)(N.Z,{className:"h-4 w-4"});case D.cK.CANCELLED:return(0,a.jsx)(G.Z,{className:"h-4 w-4"});default:return(0,a.jsx)(j.Z,{className:"h-4 w-4"})}})(r.status),(0,a.jsx)("span",{className:"ml-1",children:r.status.replace("_"," ")})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{n.push("/links/".concat(r._id)),i()},className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,a.jsx)(K.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Open in New Page"})]}),(0,a.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(L.Z,{className:"h-6 w-6"})})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Purpose"}),(0,a.jsx)("p",{className:"text-gray-700 bg-gray-50 rounded-lg p-4",children:r.purpose})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Meeting Details"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case D.LA.QUICK_SYNC:return"bg-blue-100 text-blue-800";case D.LA.REVIEW:return"bg-purple-100 text-purple-800";case D.LA.PLANNING:return"bg-green-100 text-green-800";case D.LA.DECISION:return"bg-orange-100 text-orange-800";case D.LA.BRAINSTORM:return"bg-pink-100 text-pink-800";case D.LA.STATUS_UPDATE:default:return"bg-gray-100 text-gray-800"}})(r.meetingType)),children:r.meetingType.replace("_"," ")}),r.priority&&(0,a.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("HIGH"===r.priority?"bg-error-100 text-error-800":"MEDIUM"===r.priority?"bg-warning-100 text-warning-800":"bg-gray-100 text-gray-800"),children:r.priority})]}),r.scheduledAt&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Scheduled: ",(0,U.Z)(new Date(r.scheduledAt),"PPP p")]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Created: ",(0,U.Z)(new Date(r.createdAt),"PPP p")]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Participants"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[(null===(t=r.participants)||void 0===t?void 0:t.length)||0," participants"]})]}),r.participants&&r.participants.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:r.participants.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[(0,a.jsx)("img",{src:e.userId.avatar||"/default-avatar.png",alt:e.userId.firstName,className:"h-6 w-6 rounded-full"}),(0,a.jsxs)("span",{className:"text-sm text-gray-700",children:[e.userId.firstName," ",e.userId.lastName]})]},e.userId._id||t))})]})]})]}),(null===(s=r.aiSummary)||void 0===s?void 0:s.content)&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"AI Summary"}),(0,a.jsx)("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-gray-700",children:r.aiSummary.content})]})})]}),r.outcomes&&r.outcomes.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Outcomes"}),(0,a.jsx)("div",{className:"space-y-2",children:r.outcomes.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start space-x-2 bg-gray-50 rounded-lg p-3",children:[(0,a.jsx)(W.Z,{className:"h-4 w-4 text-success-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-gray-700",children:e})]},t))})]}),r.notes&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Notes"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(B.Z,{className:"h-4 w-4 text-gray-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-gray-700",children:r.notes})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[r.status===D.cK.PENDING&&(0,a.jsx)("button",{className:"btn-primary",children:"Start Meeting"}),r.status===D.cK.IN_PROGRESS&&(0,a.jsx)("button",{className:"btn-success",children:"Complete Meeting"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[r.outcomes&&r.outcomes.length>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(W.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[r.outcomes.length," outcomes"]})]}),r.notes&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(F.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Has notes"})]})]})]})]})})}):null}function Q(){var e,t,s,u,h,p,b,v,f,j,N,w;let{selectedTeam:C,setSelectedTeam:k,clearAll:E}=(0,g.A)(),{data:L,isLoading:D,error:O,refetch:Z}=(0,T.useQuery)("dashboard-overview",async()=>{let e=localStorage.getItem("tether_token")||"";if(!e)throw window.location.href="/",Error("No authentication token");try{return(await I.h.get("/api/dashboard/overview",{headers:{Authorization:"Bearer ".concat(e)}})).data.data}catch(e){var t;if((null===(t=e.response)||void 0===t?void 0:t.status)===401)throw localStorage.removeItem("tether_token"),window.location.href="/",Error("Authentication failed");throw e}},{staleTime:0,cacheTime:3e5,refetchOnWindowFocus:!1,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),onError:e=>{"Authentication failed"===e.message||"No authentication token"===e.message?console.log("Authentication error handled"):console.error("Dashboard data error:",e)}});(0,M.useRouter)();let W=(0,T.useQueryClient)(),[G,K]=(0,r.useState)(""),[B,F]=(0,r.useState)(!1),[Q,z]=(0,r.useState)(null),[V,Y]=(0,r.useState)(!1),[q,$]=(0,r.useState)(!1),[J,X]=(0,r.useState)((null==L?void 0:L.recentLinks)||[]);if((0,r.useEffect)(()=>{localStorage.getItem("tether_token")||(window.location.href="/")},[]),(0,r.useEffect)(()=>{X((null==L?void 0:L.recentLinks)||[])},[null==L?void 0:L.recentLinks]),(0,r.useEffect)(()=>{if(B)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e);function e(e){let t=document.getElementById("user-menu-button");t&&!t.contains(e.target)&&F(!1)}},[B]),D)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})});if(O)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:String(O)}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Try Again"})]})});let ee=J.filter(e=>e.title.toLowerCase().includes(G.toLowerCase())||e.purpose.toLowerCase().includes(G.toLowerCase()))||[];null==L||null===(e=L.pendingNudges)||void 0===e||e.filter(e=>e.message.toLowerCase().includes(G.toLowerCase())),Object.keys(ee.reduce((e,t)=>{let s=t.scheduledAt?(0,U.Z)(new Date(t.scheduledAt),"yyyy-MM-dd"):"No Date";return e[s]||(e[s]=[]),e[s].push(t),e},{})).sort((e,t)=>t.localeCompare(e));let et=[...J,...null==L?void 0:L.recentLinks.filter(e=>!J.some(t=>t._id===e._id))];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[(0,a.jsx)("img",{src:"/tether_logo.png",alt:"Tether Logo",className:"h-12 w-12 mr-px align-middle"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-primary-600 align-middle",children:"Tether"})]}),(0,a.jsx)(y,{})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search links, nudges...",value:G,onChange:e=>K(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,a.jsxs)("button",{className:"relative p-2 text-gray-400 hover:text-gray-600",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:()=>F(e=>!e),id:"user-menu-button",children:[(null==L?void 0:null===(t=L.user)||void 0===t?void 0:t.avatar)?(0,a.jsx)("img",{src:L.user.avatar,alt:L.user.name||L.user.email||"User",className:"h-8 w-8 rounded-full object-cover",onError:e=>{e.target.style.display="none"}}):(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-lg",children:(null==L?void 0:null===(s=L.user)||void 0===s?void 0:s.name)?L.user.name.split(" ").map(e=>e[0]).join("").toUpperCase():(null==L?void 0:null===(u=L.user)||void 0===u?void 0:u.email)?L.user.email[0].toUpperCase():"?"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null==L?void 0:null===(h=L.user)||void 0===h?void 0:h.name)||(null==L?void 0:null===(p=L.user)||void 0===p?void 0:p.email)||"User"})]}),B&&(0,a.jsxs)("div",{className:"absolute left-0 right-auto mt-2 min-w-[8rem] bg-white border border-gray-200 rounded-lg shadow-lg z-50 py-2 flex flex-col items-stretch",children:[(0,a.jsx)("div",{className:"absolute -top-2 left-4 w-3 h-3 bg-white border-l border-t border-gray-200 rotate-45 z-10"}),(0,a.jsxs)("button",{onClick:()=>{try{console.log("Sign out button clicked!"),localStorage.clear(),sessionStorage.clear(),W.clear(),E(),console.log("All storage cleared, redirecting to home..."),window.location.href="/"}catch(e){console.error("Error during sign out:",e),alert("Sign out error: "+(e instanceof Error?e.message:String(e)))}},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back, User! \uD83D\uDC4B"}),(0,a.jsx)("p",{className:"text-gray-600",children:C?"Working on ".concat(C.name):"Select a team to get started"})]}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)(A,{title:"Total Teams",value:(null==L?void 0:null===(b=L.summary)||void 0===b?void 0:b.totalTeams)||0,icon:o.Z,color:"primary",trend:"+2 this week"}),(0,a.jsx)(A,{title:"Active Links",value:(null==L?void 0:null===(v=L.summary)||void 0===v?void 0:v.totalLinks)||0,icon:d.Z,color:"success",trend:"+5 today"}),(0,a.jsx)(A,{title:"Response Rate",value:"".concat((null==L?void 0:null===(f=L.summary)||void 0===f?void 0:f.responseRate)||0,"%"),icon:m.Z,color:"info",trend:"+12% this month"})]}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:(0,a.jsx)(P,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-soft p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Links"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{className:"btn-secondary text-sm",onClick:()=>$(!0),children:["\uD83D\uDDFA️ Link Canvas",(0,a.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-yellow-200 text-yellow-800 text-xs font-semibold align-middle",children:"Beta"})]}),(0,a.jsxs)("button",{className:"btn-primary text-sm",onClick:()=>Y(!0),children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"New Link"]})]})]}),et.length>0?(0,a.jsx)("div",{className:"space-y-8",children:Object.entries(et.reduce((e,t)=>{let s=t.scheduledAt?(0,U.Z)(new Date(t.scheduledAt),"yyyy-MM-dd"):"No Date";return e[s]||(e[s]=[]),e[s].push(t),e},{})).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 font-semibold mb-2",children:"No Date"===t?"Unscheduled":(0,U.Z)(new Date(t),"EEE, MMM d, yyyy")}),(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsx)(S,{link:e,onViewDetails:()=>z(e)},e._id))})]},t)})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No links found"}),(0,a.jsx)("button",{className:"btn-primary mt-4",onClick:()=>Y(!0),children:"Create your first link"})]})]})}),C&&(0,a.jsx)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-soft p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Team Performance"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary-600 mb-2",children:[(null==L?void 0:null===(j=L.summary)||void 0===j?void 0:j.responseRate)||0,"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Response Rate"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-success-600 mb-2",children:[Number((null==L?void 0:null===(N=L.summary)||void 0===N?void 0:N.averageResponseTime)||0).toFixed(1),"h"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Response Time"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-warning-600 mb-2",children:(null==L?void 0:null===(w=L.summary)||void 0===w?void 0:w.activeTeams)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Active Teams"})]})]})]})})]})]}),(0,a.jsx)(H,{link:Q,isOpen:!!Q,onClose:()=>z(null)}),(0,a.jsx)(_,{isOpen:V,onClose:()=>Y(!1),onSuccess:e=>{X(t=>[e,...t])}}),(0,a.jsx)(R.Z,{isOpen:q,onClose:()=>$(!1)})]})}},2737:function(e,t,s){"use strict";var a=s(7437),r=s(2265),l=s(7082),i=s(6554),n=s(4281);s(6556);var c=s(5805),o=s(4440),d=s(7416),m=s(2489);let x=[{id:"ravi",position:{x:400,y:80},data:{label:"Ravi (PM)"},type:"default"},{id:"vivek",position:{x:40,y:360},data:{label:"Vivek (Dev)"},type:"default"},{id:"avinash",position:{x:200,y:360},data:{label:"Avinash (Design)"},type:"default"},{id:"shraddha",position:{x:400,y:400},data:{label:"Shraddha (Legal)"},type:"default"},{id:"smruti",position:{x:600,y:360},data:{label:"Smruti (Security)"},type:"default"},{id:"aparna",position:{x:760,y:360},data:{label:"Aparna (Business)"},type:"default"}],u=[{id:"ravi-vivek-completed",source:"ravi",target:"vivek",type:"hoverLabel",style:{stroke:"green",strokeWidth:6},label:"5 Completed",data:{offset:-40,nodeOffset:-12}},{id:"ravi-vivek-active",source:"ravi",target:"vivek",type:"hoverLabel",style:{stroke:"blue",strokeWidth:2},label:"Active Link",data:{offset:40,nodeOffset:12}},{id:"ravi-avinash-completed",source:"ravi",target:"avinash",type:"hoverLabel",style:{stroke:"green",strokeWidth:6},label:"4 Completed",data:{offset:-40,nodeOffset:-12}},{id:"ravi-avinash-active",source:"ravi",target:"avinash",type:"hoverLabel",style:{stroke:"blue",strokeWidth:2},label:"Active Link",data:{offset:40,nodeOffset:12}},{id:"ravi-shraddha-completed",source:"ravi",target:"shraddha",type:"hoverLabel",style:{stroke:"green",strokeWidth:2},label:"1 Completed",data:{offset:-50,nodeOffset:-16}},{id:"ravi-shraddha-awaiting",source:"ravi",target:"shraddha",type:"hoverLabel",style:{stroke:"orange",strokeWidth:3},label:"Awaiting",data:{offset:0,nodeOffset:0}},{id:"ravi-shraddha-ignored",source:"ravi",target:"shraddha",type:"hoverLabel",style:{stroke:"red",strokeWidth:4},label:"3 Ignored",data:{offset:50,nodeOffset:16}},{id:"ravi-smruti-awaiting",source:"ravi",target:"smruti",type:"hoverLabel",style:{stroke:"orange",strokeWidth:3},label:"Awaiting",data:{offset:-30,nodeOffset:-10}},{id:"ravi-smruti-ignored",source:"ravi",target:"smruti",type:"hoverLabel",style:{stroke:"red",strokeWidth:4},label:"3 Ignored",data:{offset:30,nodeOffset:10}},{id:"ravi-smruti-completed",source:"ravi",target:"smruti",type:"hoverLabel",style:{stroke:"green",strokeWidth:2},label:"1 Completed",data:{offset:0,nodeOffset:0}},{id:"ravi-aparna-completed",source:"ravi",target:"aparna",type:"hoverLabel",style:{stroke:"green",strokeWidth:2},label:"2 Completed",data:{offset:-30,nodeOffset:-10}},{id:"ravi-aparna-active",source:"ravi",target:"aparna",type:"hoverLabel",style:{stroke:"blue",strokeWidth:2},label:"Active Link",data:{offset:30,nodeOffset:10}}];t.Z=e=>{let{isOpen:t,onClose:s}=e,[h,p]=(0,r.useState)(!1),[g,b,v]=(0,l.Rr)(x),[y,f,j]=(0,l.ll)(u);return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:".react-flow__wrapper { overflow: visible !important; z-index: 1 !important; }"}),(0,a.jsxs)("div",{className:"fixed inset-0 z-50 ".concat(h?"":"flex items-center justify-center"),children:[(0,a.jsx)("div",{className:"bg-black bg-opacity-50 ".concat("absolute inset-0"),onClick:s}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl ".concat(h?"absolute inset-4":"relative w-11/12 h-5/6 max-w-6xl"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Link Canvas"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Visual coordination space"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>p(!h),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:h?"Exit Full Screen":"Full Screen",children:h?(0,a.jsx)(o.Z,{className:"h-4 w-4"}):(0,a.jsx)(d.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(m.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"flex-1 h-full min-h-[500px] border border-dashed border-blue-400",children:(0,a.jsxs)(l.x$,{nodes:g,edges:y,onNodesChange:v,onEdgesChange:j,className:"bg-gray-50",children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)(n.A,{color:"#e5e7eb",gap:24})]})})]})]})]}):null}},2878:function(e,t,s){"use strict";s.d(t,{LA:function(){return r},cK:function(){return a}});let a={PENDING:"PENDING",SCHEDULED:"SCHEDULED",IN_PROGRESS:"IN_PROGRESS",COMPLETED:"COMPLETED",CANCELLED:"CANCELLED",NO_SHOW:"NO_SHOW"},r={QUICK_SYNC:"QUICK_SYNC",REVIEW:"REVIEW",PLANNING:"PLANNING",DECISION:"DECISION",BRAINSTORM:"BRAINSTORM",STATUS_UPDATE:"STATUS_UPDATE"}}},function(e){e.O(0,[627,780,464,671,484,743,843,148,745,236,971,117,744],function(){return e(e.s=7791)}),_N_E=e.O()}]);